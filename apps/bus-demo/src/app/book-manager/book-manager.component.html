<header class="flex">
  <h1>Books App</h1>
</header>

<main *ngIf="vm$ | async as vm">
  <section class="mt-5 mb-5">
    <app-show-form-checkbox
      [checked]="vm.showForm"
      [updateMode]="!!vm.selectedId"
      (outBus)="outHandler($event)"
    ></app-show-form-checkbox>

    <app-add-book-form
      [inBus]="addBookFormBus$ | async"
      (outBus)="outHandler($event)"
    ></app-add-book-form>
  </section>

  <app-tabs
    [selectedTab]="vm.selectedTab"
    (outBus)="outHandler($event)"
    [ngSwitch]="vm.selectedTab"
  >
    <app-book-list
      *ngSwitchCase="0"
      [books]="vm.allBooks"
      [selectedId]="vm.selectedId"
      (outBus)="outHandler($event)"
    ></app-book-list>

    <app-book-stuff *ngSwitchCase="1"></app-book-stuff>
  </app-tabs>
</main>
